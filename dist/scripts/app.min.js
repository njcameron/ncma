!function(e,n,r){'use strict';angular.module('njcameron.FlatoBs2',['ngResource','ngAnimate','ngRoute','ngSanitize','smoothScroll','mgcrea.ngStrap','angular-parallax','viewhead','angularUtils.directives.dirDisqus']).constant('version','v0.1.0').config(['$locationProvider','$routeProvider',function(e,n){e.html5Mode(!1),e.hashPrefix('!'),n.when('/',{templateUrl:'views/home.html',controller:'MainCtrl'}).when('/blog/post/:nid',{templateUrl:'views/blog-page.html',controller:'BlogPageCtrl'}).otherwise({redirectTo:'/'})}]),e.onload=function(){$('#preload_wrapper').animate({opacity:0},300,function(){$('#preload_wrapper').remove()})};var o=angular.module('njcameron.FlatoBs2');o.controller('MainCtrl',['$scope','Strings',function(e,n){n.get(function(n){e.start=n})}]),o.controller('WorkCtrl',['$scope','Work','WorkPreProcess',function(e,n,r){n.query(function(n){e.works=n,angular.forEach(e.works,function(n,o){e.works[o]=r.processWork(n)})})}]),o.controller('BlogCtrl',['$scope','Blog','BlogPostPreProcess',function(e,n,r){n.query(function(n){e.blogs=n,angular.forEach(e.blogs,function(n,o){e.blogs[o]=r.processBlog(n)})})}]),o.controller('BlogPageCtrl',['$templateCache','$scope','BlogPage','BlogPostPreProcess','$routeParams',function(e,n,r,o,t){r.query({nodeId:t.nid},function(e){n.blog=o.processBlog(e[0]),n.contentLoaded=!0})}]),angular.module('njcameron.FlatoBs2').filter('time',function(){return function(e){return+new Date(e)}}).filter('startFrom',function(){return function(e,n){return e&&e.slice(n)}}).filter('htmlToPlaintext',function(){return function(e){return String(e).replace(/<[^>]+>/gm,'')}}).filter('mysce',['$sce',function(e){return e.trustAsHtml}]);var o=angular.module('njcameron.FlatoBs2');o.directive('directionalHover',function(){return{restrict:'A',link:function(e,n,r){$(n).hoverdir({hoverDelay:50,hoverElem:'.layer'}),$(n).mouseenter(function(){var e=this;setTimeout(function(){$(e).find('.work-component-image').addClass('blur')},250)}),$(n).mouseleave(function(){var e=$(this).find('.work-component-image');e.removeClass('blur')}),$(n).click(function(){var e=$(this).find('.work-component-image');e.removeClass('blur'),$(this).find('.layer').hide()})}}}),o.directive('blogHoverThumb',function(){return{restrict:'A',link:function(e,n,r){$(n).mouseenter(function(){$(this).find('img').addClass('blur'),$(this).find('a.button').show(),$(this).find('.trans-layer').show()}),$(n).mouseleave(function(){var e=$(this).find('img');e.removeClass('blur'),$(this).find('a.button').hide(),$(this).find('.trans-layer').hide()}),$(n).click(function(){var e=$(this).find('img');e.removeClass('blur'),$(this).find('a.button').hide()})}}});var o=angular.module('njcameron.FlatoBs2').constant('BASE_URL','http://d129n14rpxc864.cloudfront.net/').constant('FILES_DIR','sites/default/files/').constant('BLOG_THUMB_PATH','styles/blog_thumbnail/public/').constant('CONFIG_PATH','api/v1/config/').constant('BLOG_PATH','api/v1/content/blog/').constant('WORK_PATH','api/v1/content/work/').constant('TAXONOMY_PATH','api/v1/content/category/');o.provider('config',['$provide',function(e){var n=this.defaults={debug:!1,version:'0.1.0',locale:'en_US',locales:[{id:'en_US',name:'English'},{id:'fr_FR',name:'French'}]},r=this.config=angular.copy(n);e.constant('$version',r.version),this.$get=function(){return r}}]),o.factory('Strings',['$resource','BASE_URL','CONFIG_PATH',function(e,n,r){return e(n+r)}]),o.factory('Work',['$resource','BASE_URL','WORK_PATH',function(e,n,r){return e(n+r)}]),o.factory('Blog',['$resource','BASE_URL','BLOG_PATH',function(e,n,r){return e(n+r)}]),o.factory('BlogPage',['$resource','BASE_URL','BLOG_PATH',function(e,n,r){return e(n+r+':nodeId')}]),o.factory('Terms',['$resource','BASE_URL','TAXONOMY_PATH',function(e,n,r){return e(n+r+':termId')}]),o.service('WorkPreProcess',['Terms','BASE_URL','FILES_DIR',function(e,n,r){this.processWork=function(e){return e.fullImage=n+r+e.field_filename[0].value,e}}]),o.service('BlogPostPreProcess',['Terms','BASE_URL','FILES_DIR','BLOG_THUMB_PATH',function(e,n,r,o){this.processBlog=function(t){return t.date=1e3*t.created[0].value,t.thumbnail=n+r+o+t.field_filename[0].value,t.fullImage=n+r+t.field_filename[0].value,Object.size(t.field_category)>0&&e.query({termId:t.field_category[0].target_id},function(e){t.category=e[0].name[0].value}),t}}]),Object.size=function(e){var n,r=0;for(n in e)e.hasOwnProperty(n)&&(r+=1);return r}}(window,document);
//# sourceMappingURL=../scripts/app.min.js.map