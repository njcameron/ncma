{"version":3,"sources":["scripts/app.js","scripts/preloader.js","scripts/controllers/main.js","scripts/directives/main.js","scripts/filters/main.js","scripts/services/main.js"],"names":["window","document","undefined","angular","module","constant","config","$locationProvider","$routeProvider","html5Mode","hashPrefix","when","templateUrl","controller","otherwise","redirectTo","onload","$","animate","opacity","remove","app","$scope","Strings","get","data","start","Work","WorkPreProcess","query","works","forEach","value","index","processWork","Blog","BlogPostPreProcess","blogs","processBlog","$templateCache","BlogPage","$routeParams","nodeId","nid","blog","contentLoaded","directive","restrict","link","scope","element","attrs","hoverdir","hoverDelay","hoverElem","mouseenter","that","this","setTimeout","find","addClass","mouseleave","workImage","removeClass","click","hide","show","blogTeaser","filter","obj","Date","slice","text","String","replace","$sce","trustAsHtml","provider","$provide","defaults","debug","version","locale","locales","id","name","copy","$get","factory","$resource","BASE_URL","CONFIG_PATH","FORMAT_ARG","WORK_PATH","BLOG_PATH","TAXONOMY_PATH","service","Terms","FILES_DIR","workItem","fullImage","field_filename","BLOG_THUMB_PATH","blogPost","date","created","thumbnail","Object","size","field_category","termId","target_id","category","key","hasOwnProperty"],"mappings":"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","file":"scripts/app.min.js","sourcesContent":["'use strict';\n\nangular.module('njcameron.FlatoBs2',\n    ['ngResource',\n      'ngAnimate',\n      'ngRoute',\n      'ngSanitize',\n      'smoothScroll',\n      'mgcrea.ngStrap',\n      'angular-parallax',\n      'viewhead',\n      'angularUtils.directives.dirDisqus'\n    ])\n\n  .constant('version', 'v0.1.0')\n\n  .config(function($locationProvider, $routeProvider) {\n\n    $locationProvider.html5Mode(false);\n    $locationProvider.hashPrefix('!');\n\n    $routeProvider\n      .when(\"/\", {\n        templateUrl: \"views/home.html\",\n        controller: \"MainCtrl\"\n      })\n\n      .when(\"/blog/post/:nid\", {\n        templateUrl: \"views/blog-page.html\",\n        controller: \"BlogPageCtrl\"\n      })\n\n      .otherwise({\n        redirectTo: '/'\n      });\n\n  });\n","window.onload = function(){\n  $('#preload_wrapper').animate({'opacity': 0},300, function() {\n    $('#preload_wrapper').remove();\n  });\n};","'use strict';\n\nvar app = angular.module('njcameron.FlatoBs2');\n/**\n * Controller for Strings.\n */\napp.controller('MainCtrl', function ($scope, Strings) {\n  Strings.get(function (data) {\n    $scope.start = data;\n  });\n});\n\n/**\n * Controller for work listings.\n */\napp.controller(\"WorkCtrl\", function ($scope, Work, WorkPreProcess) {\n  Work.query(function (data) {\n    $scope.works = data;\n    angular.forEach($scope.works, function (value, index) {\n      $scope.works[index] = WorkPreProcess.processWork(value);\n    });\n  });\n});\n\n/**\n * Controller for blog listings.\n */\napp.controller(\"BlogCtrl\", function ($scope, Blog, BlogPostPreProcess) {\n  Blog.query(function (data) {\n    $scope.blogs = data;\n    angular.forEach($scope.blogs, function (value, index) {\n      $scope.blogs[index] = BlogPostPreProcess.processBlog(value);\n    });\n  });\n});\n\n/**\n * Controller for blog page.\n */\napp.controller(\"BlogPageCtrl\", function ($templateCache, $scope, BlogPage, BlogPostPreProcess, $routeParams) {\n  BlogPage.query({nodeId: $routeParams.nid}, function (data) {\n    $scope.blog = BlogPostPreProcess.processBlog(data[0]);\n    $scope.contentLoaded = true;\n  });\n});","'use strict';\n\nvar app = angular.module('njcameron.FlatoBs2');\n\n/*\n * Directional hover plugin.\n */\napp.directive('directionalHover', function() {\n  return {\n    restrict: 'A',\n    link: function(scope, element, attrs) {\n      // Set hover direction.\n      $(element).hoverdir({hoverDelay: 50, hoverElem: '.layer'});\n\n      // Set blur on image on mouse over.\n      $(element).mouseenter(function() {\n        var that = this;\n        setTimeout(function(){\n          $(that).find('.work-component-image').addClass('blur');\n        },250);\n\n      });\n\n      // On mouse leave remove blur.\n      $(element).mouseleave(function() {\n        var workImage = $(this).find('.work-component-image');\n        workImage.removeClass('blur');\n      });\n\n      // On click remove blur and hover layer.\n      $(element).click(function() {\n        var workImage = $(this).find('.work-component-image');\n        workImage.removeClass('blur');\n        $(this).find('.layer').hide();\n      });\n\n    }\n  };\n});\n\n/*\n * Blog hover plugin.\n */\napp.directive('blogHoverThumb', function() {\n  return {\n    restrict: 'A',\n    link: function(scope, element, attrs) {\n\n      // Set blur on image on mouse over.\n      $(element).mouseenter(function() {\n        $(this).find('img').addClass('blur');\n        $(this).find('a.button').show();\n        $(this).find('.trans-layer').show();\n      });\n\n      // On mouse leave remove blur.\n      $(element).mouseleave(function() {\n        var blogTeaser = $(this).find('img');\n        blogTeaser.removeClass('blur');\n        $(this).find('a.button').hide();\n        $(this).find('.trans-layer').hide();\n\n\n      });\n\n      // On click remove blur and hover layer.\n      $(element).click(function() {\n        var blogTeaser = $(this).find('img');\n        blogTeaser.removeClass('blur');\n        $(this).find('a.button').hide();\n      });\n\n    }\n  };\n});","'use strict';\n\nangular.module('njcameron.FlatoBs2')\n\n  .filter('time', function () {\n    return function (obj) {\n      return +new Date(obj);\n    };\n  })\n\n  .filter('startFrom', function () {\n    return function (obj, index) {\n      return obj && obj.slice(index);\n    };\n  })\n\n  /*\n   * HTML to plain text filter.\n   */\n  .filter('htmlToPlaintext', function () {\n    return function (text) {\n      return String(text).replace(/<[^>]+>/gm, '');\n    };\n  })\n\n  /*\n   * HTML filter.\n   */\n  .filter('mysce', function ($sce) {\n    return $sce.trustAsHtml;\n  });","'use strict';\n\nvar app = angular.module('njcameron.FlatoBs2')\n  .constant('BASE_URL', \"https://d129n14rpxc864.cloudfront.net/\")\n  //.constant('BASE_URL', \"http://ferko.flato.local/\")\n  .constant('FILES_DIR', \"sites/default/files/\")\n  .constant('BLOG_THUMB_PATH', \"styles/blog_thumbnail/public/\")\n  .constant('CONFIG_PATH', \"api/v1/config/\")\n  .constant('BLOG_PATH', \"api/v1/content/blog/\")\n  .constant('WORK_PATH', \"api/v1/content/work/\")\n  .constant('TAXONOMY_PATH', \"api/v1/content/category/\")\n  .constant('FORMAT_ARG', \"?_format=json\");\n\napp.provider('config', function ($provide) {\n\n  var defaults = this.defaults = {\n    debug: false,\n    version: '0.1.0',\n    locale: 'en_US',\n    locales: [\n      {\n        id: 'en_US',\n        name: 'English'\n      },\n      {\n        id: 'fr_FR',\n        name: 'French'\n      }\n    ]\n  };\n  var config = this.config = angular.copy(defaults);\n\n  $provide.constant('$version', config.version);\n\n  this.$get = function () {\n    return config;\n  };\n\n});\n\n\n/*\n * API Service.\n */\n// Strings API call.\napp.factory('Strings', function ($resource, BASE_URL, CONFIG_PATH, FORMAT_ARG) {\n  return $resource(BASE_URL + CONFIG_PATH + FORMAT_ARG);\n});\n\n// Work items API call.\napp.factory('Work', function ($resource, BASE_URL, WORK_PATH, FORMAT_ARG) {\n  return $resource(BASE_URL + WORK_PATH + FORMAT_ARG);\n});\n\n// Blog posts API call.\napp.factory('Blog', function ($resource, BASE_URL, BLOG_PATH, FORMAT_ARG) {\n  return $resource(BASE_URL + BLOG_PATH + FORMAT_ARG);\n});\n\n// Blog page API call.\napp.factory('BlogPage', function ($resource, BASE_URL, BLOG_PATH, FORMAT_ARG) {\n  return $resource(BASE_URL + BLOG_PATH + ':nodeId' + FORMAT_ARG);\n});\n\n// Taxonomy term name API call.\napp.factory('Terms', function ($resource, BASE_URL, TAXONOMY_PATH, FORMAT_ARG) {\n  return $resource(BASE_URL + TAXONOMY_PATH + ':termId' + FORMAT_ARG);\n});\n\n/*\n * Process work items.\n */\napp.service('WorkPreProcess', function (Terms, BASE_URL, FILES_DIR) {\n  this.processWork = function (workItem) {\n    // Full images.\n    workItem.fullImage = BASE_URL + FILES_DIR + workItem.field_filename[0].value;\n\n    return workItem;\n  };\n});\n\n/*\n * Process blog posts.\n */\napp.service('BlogPostPreProcess', function (Terms, BASE_URL, FILES_DIR, BLOG_THUMB_PATH) {\n  this.processBlog = function (blogPost) {\n    // Date.\n    blogPost.date = blogPost.created[0].value * 1000;\n\n    // Thumbnail images.\n    blogPost.thumbnail = BASE_URL + FILES_DIR + BLOG_THUMB_PATH + blogPost.field_filename[0].value;\n\n    // Full images.\n    blogPost.fullImage = BASE_URL + FILES_DIR + blogPost.field_filename[0].value;\n\n    // Category.\n    if (Object.size(blogPost.field_category) > 0) {\n      Terms.query({termId: blogPost.field_category[0].target_id}, function (data) {\n        blogPost.category = data[0].name[0].value;\n      });\n    }\n\n    return blogPost;\n  };\n});\n\n/*\n * Helper function to check number of array keys.\n */\nObject.size = function (obj) {\n  var size = 0, key;\n  for (key in obj) {\n    if (obj.hasOwnProperty(key)) {\n      size = size + 1;\n    }\n  }\n  return size;\n};"],"sourceRoot":"/source/"}